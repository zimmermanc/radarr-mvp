# Radarr MVP Production Configuration Template
# Copy this file to .env.production and replace all placeholder values
# NEVER commit production .env files to version control

# ============================================================================
# SECURITY CONFIGURATION (CRITICAL - MUST BE SET)
# ============================================================================

# Generate a secure random API key (32+ characters, alphanumeric)
# Use: openssl rand -hex 32
RADARR_API_KEY=REPLACE_WITH_SECURE_RANDOM_API_KEY_HERE

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Bind to all interfaces in production
RADARR_HOST=0.0.0.0
RADARR_PORT=7878

# Production performance settings
RADARR_MAX_CONNECTIONS=5000
RADARR_REQUEST_TIMEOUT=60

# ============================================================================
# DATABASE CONFIGURATION (CHANGE ALL CREDENTIALS)
# ============================================================================

# Use secure, randomly generated passwords
# Database user should have minimal privileges (no SUPERUSER)
DATABASE_URL=postgresql://radarr_prod_user:SECURE_RANDOM_PASSWORD_HERE@db-host:5432/radarr_prod
DATABASE_MAX_CONNECTIONS=50
DATABASE_CONNECT_TIMEOUT=10
DATABASE_LOG_QUERIES=false

# ============================================================================
# EXTERNAL SERVICE INTEGRATIONS (SET YOUR CREDENTIALS)
# ============================================================================

# Prowlarr Integration
PROWLARR_BASE_URL=https://prowlarr.yourdomain.com
PROWLARR_API_KEY=YOUR_PROWLARR_API_KEY_HERE
PROWLARR_TIMEOUT=30
PROWLARR_RATE_LIMIT=120

# qBittorrent Integration  
QBITTORRENT_BASE_URL=https://qbittorrent.yourdomain.com
QBITTORRENT_USERNAME=YOUR_QBT_USERNAME
QBITTORRENT_PASSWORD=YOUR_SECURE_QBT_PASSWORD
QBITTORRENT_TIMEOUT=30

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# CORS - Only allow your production domains
CORS_ALLOWED_ORIGINS=https://radarr.yourdomain.com,https://app.yourdomain.com

# Security Headers (Production Settings)
ENABLE_SECURITY_HEADERS=true
HSTS_MAX_AGE=31536000

# Content Security Policy (Customize for your frontend)
CSP_POLICY="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self' https://api.themoviedb.org; font-src 'self'; frame-ancestors 'none';"

# ============================================================================
# ENVIRONMENT CONFIGURATION
# ============================================================================

# Critical: Set to production
ENVIRONMENT=production

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Production logging settings
RUST_LOG=info,radarr_core=debug,radarr_api=info
LOG_JSON_FORMAT=true
LOG_FILE=/var/log/radarr/radarr.log

# ============================================================================
# MONITORING AND OBSERVABILITY (Optional)
# ============================================================================

# OpenTelemetry Configuration
OTEL_EXPORTER_OTLP_ENDPOINT=https://your-otel-collector.yourdomain.com
OTEL_SERVICE_NAME=radarr-api
OTEL_RESOURCE_ATTRIBUTES=service.version=1.0.0,environment=production

# Prometheus Metrics
PROMETHEUS_METRICS_ENABLED=true
PROMETHEUS_METRICS_PORT=9090

# ============================================================================
# KUBERNETES/CONTAINER CONFIGURATION (If applicable)
# ============================================================================

# Health check configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5

# Graceful shutdown timeout
SHUTDOWN_TIMEOUT=30

# ============================================================================
# SECURITY CHECKLIST
# ============================================================================
# 
# □ Changed all default passwords and API keys
# □ Generated secure random API key (32+ characters)
# □ Database user has minimal privileges
# □ CORS origins restricted to production domains only
# □ HTTPS enabled for all external URLs
# □ Security headers enabled
# □ Content Security Policy configured
# □ Log level set to info (not debug)
# □ File permissions restricted (600 for .env files)
# □ Environment set to "production"
# □ All placeholder values replaced
# 
# ============================================================================